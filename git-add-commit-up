#!/bin/bash
p=$(pwd)
last=$p
while [ $p != $HOME ]; do
    last=$p
    git add -A
    git commit -m "update"
    git push $USER $USER
    cd ..
    p=$(pwd)
done
cd .blocktree
git fetch $USER
git merge $USER/$USER
cd ..
git add .blocktree
last=${last/$HOME\//}
git add "$last"
status=$(git status -s)
if [ -n "$status" ]; then
    git commit -m "update"
    git push $USER $USER
    cd ..
    git add $USER
    git commit -m "update"
    git push $USER $USER
fi
